<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="一人、一桌、一椅、一扇、一抚尺如故">
    <meta name="author" content="Kaliludan" />
    <title>把博客从 WordPress 迁移到 Jekyll | Kaliludan</title>
    <link rel="shortcut icon" href="/favicon.png">
    <link href="http://localhost:4000/feed/" rel="alternate" title="Kaliludan" type="application/atom+xml" />
    <link rel="stylesheet" href="kaliludan.github.com/media/css">
    <link rel="stylesheet" href="kaliludan.github.com/media/css/highlight.css">
    <script type="text/javascript" src="kaliludan.github.com/media/js/jquery-1.7.1.min.js"></script>
  </head>

  <body>
    <div id="container">
      <div id="main" role="main">
        <header>
        <h1><center><a class="" href="http://localhost:4000/">通向蜘蛛巢的小径</a></center></h1>  
        </header>
        <center> <ul class="nav pills">
        <li><a title="主站" class="" href="http://www.kaliludan.com" target="_blank">主页</a></li>
        <li><a title="文章列表" class="" href="http://localhost:4000/archive/">归档</a></li>
        <li><a title="文章分类" class="" href="http://localhost:4000/categories/">分类</a></li>
        <li><a title="关于我和博客" class="" href="http://localhost:4000/about/">关于</a></li>
        <li><a title="个人简历" class="" href="http://localhost:4000/vitae/">简历</a></li>
        <li><a title="论文著作" class="" href="http://localhost:4000/publication/">发表</a></li>
        <li><a title="各种链接" class="" href="http://localhost:4000/links/">链接</a></li>

       </ul> </center>

        <article class="content">
        <h2>
  <center>把博客从 WordPress 迁移到 Jekyll</center>
</h2>
<h5>文/<a href="http://songchunlin.net/">宋春林</a></h5>
<section class="post">
<p>很久以前就想把博客从臃肿的 WordPress 迁移到轻量的 Jekyll，但是一直没有做这件事。一方面空间还没有到期，另一方面研究了几次 Jekyll 的文档都感觉非常困惑。这两天忙里偷闲折腾了一下，终于把博客迁移到基于 Jekyll 了。</p>

<p>Jekyll 的好处是非常多的。首先，基于 GitHub Pages 的 Jekyll 博客有 1G 空间，作为个人博客足够了，而这一切都是免费的，对比之下，我之前使用的衡天主机 300M 的空间一年要 120 元；其次，稳定可靠。博客文件托管在 GitHub 的 repositories 里，比那些空间提供商可靠可靠。之前的 WordPress 博客一个月总会有那么一两次收到博客无法访问的邮件。为了保险起见，我直接把放博客文件的 repositories 克隆到本地的 iCloud Drive 文件夹里，这样在本地的修改同时就备份到 iCloud 了，不用担心文件丢失。再次，管理方便。Jekyll 支持 Markdown，我写博客的时候直接用 Macdown 在本地完成，然后用 GitHub 客户端 commit 上去就可以更新博文。同样的方法也可以用来更新 CSS 文件修改博客主题。最后，足够自由。所有的代码都是自己的，想改成什么样就改成什么样。</p>

<p>对于 <a href="http://jekyllrb.com/">Jekyll</a> 的安装说明一直很困惑，直到现在也是，按照其安装命令行在 Terminal 里尝试多次都不成功。但是这并不影响我搭建基于 Jekyll 的博客，因为 GitHub 上有个神奇的按钮叫「Fork」，于是我就 fork 了<a href="http://sixf.org/">斯幸峰博士</a>的 <a href="https://github.com/sixf">Github</a> 中放他博客文件的 repositories，然后进行了一系列的修改，新博客就基本搭建完成了。</p>

<p>新博客主要由<a href="http://songchunlin.net/">主站</a>、<a href="http://songchunlin.net/cn/">中文博客</a>和<a href="http://songchunlin.net/en/">英文博客</a>组成，主站只有一个页面，主要放中英文简介以及中英文博客的进入按钮。这么套现成的模板我很喜欢，也利于国际化的交流（当然是在认真更新英文内容的基础上），在原有模板的基础上修改了布局、字体、行距以及颜色等元素，整体风格和原来的 WordPress 博客保持一致。评论模块本来想用 Disqus 的，但是要翻墙才能使用，于是中文博客用多说，英文博客用 Disqus。</p>

<p>接下来的工作就是导入原 WordPress 的文章和评论了。WordPress 提供了导出的功能，但是是 XML 格式的，网上搜了一个 Python 脚本转为 Markdown 格式，再做一些微调放入 _posts 文件夹 commit 上去，新博客就有内容了。比较郁闷的是评论无法导入新的多说里面，之前 WordPress 博客的评论只能附在文章后面了。</p>

<p>最后一步是把 songchunlin.github.io 这个域名设置为 songchunlin.net，这很简单，在 repository 设置中绑定域名，然后把 DNSPOD 中之前的 A 记录值改到 192.30.252.153 和 192.30.252.154 即可。</p>

<p>今后博客就在这里安家不再折腾了。博客迁移的过程也让我更加熟悉 GitHub 这一神器，准备以后用来托管我所有的代码。</p>

</section>
<section class="meta">
<span class="author">
  <a>发表于</a>
</span>
<span class="time">
  
  <time datetime="2016-08-06">2016-08-06</time>
</span>
<br />


<span class="categories">
  分类
  
  <a href="http://localhost:4000/categories/#器物杂谈" title="器物杂谈">器物杂谈</a>&nbsp;
  
</span>


<span class="tags">
  标签 
  
  <a href="http://localhost:4000/tags/#博客" title="博客">博客</a>&nbsp;
  
  <a href="http://localhost:4000/tags/#写作" title="写作">写作</a>&nbsp;
  
  <a href="http://localhost:4000/tags/#Jekyll" title="Jekyll">Jekyll</a>&nbsp;
  
  <a href="http://localhost:4000/tags/#GitHub" title="GitHub">GitHub</a>&nbsp;
  
</span>

</section>

<section class="comment">

<div id="ds-thread" class="ds-thread" data-url="/2016/08/moving-blog-from-wordpress-to-Jekyll/" data-title="把博客从 WordPress 迁移到 Jekyll" data-thread-key="把博客从 WordPress 迁移到 Jekyll" ></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"songchunlin2016"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>                          
</section>
    
                                  


<script type="text/javascript">
$(function(){
  $(document).keydown(function(e) {
    if (e.target.nodeName.toUpperCase() != 'BODY') return;
    var url = false;
        if (e.which == 37 || e.which == 74) {  // Left arrow and J
            
        url = 'http://localhost:4000/2016/07/kind-and-smart/';
        
        }
        else if (e.which == 39 || e.which == 75) {  // Right arrow and K
            
        url = 'http://localhost:4000/2016/09/open-access-journal/';
        
        }
        if (url) {
            window.location = url;
        }
  });
})
</script>

<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
<script>
MathJax.Hub.Config({
    tex2jax: {
		skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
	}
});
MathJax.Hub.Queue(function() {
	var all = MathJax.Hub.getAllJax(), i;
	for(i=0; i < all.length; i += 1) {
		all[i].SourceElement().parentNode.className += ' has-jax';
	}
});
</script>

        </article>
          <div><script>
  (function() {
    var cx = '006295899379521077361:pwotjnjztng';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
      </div>
    </div>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-49016899-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    </body>
    
<footer><p><small><center>
              <a href="" title="RSS 订阅" target="_blank" >RSS</a>
            </center></small></p>
</footer>
</html>
